import * as React from 'react';
import { Box, Text } from 'grommet';
import { Night } from '../../../Styled';
import { ActiveSegmentFragment } from '../Queries/types/ActiveSegmentFragment';
import { Link } from 'react-router-dom';

interface PublicProps {
  segment: ActiveSegmentFragment | null;
}

type Props = PublicProps;

export class ActiveBar extends React.Component<Props> {
  public render() {
    if (this.props.segment) {
      const { name, __typename: segmentType } = this.props.segment;
      return (
        <Box justify="center" direction="row" pad={{ vertical: '8px' }}>
          { this.props.segment.__typename != "Station"
          ? 
          <Link to={`/segment/${this.props.segment.id}`}>
            <Text color={Night.textTitles} size="xsmall">
              {name}{' '}
            </Text>
          </Link>
          :
          <Text color={Night.textTitles} size="xsmall">
            {name}{' '}
          </Text>
          }
          
          &nbsp;
          <Text color={Night.textMuted} size="xsmall">
            {segmentType}
          </Text>
        </Box>
      );
    }
    return null;
  }
}
