#import "play-token-fragment.graphql"
#import "song-request-fragment.graphql"

mutation NextPlayToken($trackId: ID) {
    nextPlayToken(trackId: $trackId) {
        user {
            id
            activeSegment {
                __typename
                id
                name
            }
            currentToken {
                ...PlayTokenFragment
            }
            # For now, we re-request the queue every time we play a new token.
            songRequestQueue {
                ...SongRequest
                track {
                    id
                    artworkGuid
                    title
                    artists {
                        id
                        name
                    }
                }
            }
        }
        errors
    }
}
