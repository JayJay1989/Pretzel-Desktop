#import "play-token-fragment.graphql"
#import "song-request-with-track-fragment.graphql"
#import "active-segment-fragment.graphql"

mutation NextPlayToken($trackId: ID) {
    nextPlayToken(trackId: $trackId) {
        user {
            id
            activeSegment {
                ...ActiveSegmentFragment
            }
            currentToken {
                ...PlayTokenFragment
            }
            # For now, we re-request the queue every time we play a new token.
            songRequestQueue {
                ...SongRequestWithTrackFragment
            }
        }
        errors
    }
}
